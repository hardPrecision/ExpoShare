{% extends "base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/registration.css') }}">
{% endblock %}

{% block content %}
<div class="login-wrapper">
  <div class="login-box registration-box">
    <div class="login-icon">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon-login" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
        <circle cx="8.5" cy="7" r="4"></circle>
        <line x1="20" y1="8" x2="20" y2="14"></line>
        <line x1="17" y1="11" x2="23" y2="11"></line>
      </svg>
    </div>
    <h2 class="login-title">Регистрация</h2>
    <form method="POST" class="login-form">
      {{ form.hidden_tag() }}

      {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
          <div class="alert alert-error" role="alert">{{ message }}</div>
        {% endfor %}
      {% endwith %}

      <div class="form-group">
        <label for="username">Название организации</label>
        {{ form.username(id="username", class="form-input") }}
        {% for error in form.username.errors %}
          <p class="form-error">{{ error }}</p>
        {% endfor %}
      </div>

      <div class="form-group">
        <label for="password">Пароль</label>
        {{ form.password(id="password", class="form-input") }}
        {% for error in form.password.errors %}
          <p class="form-error">{{ error }}</p>
        {% endfor %}
      </div>

      <div class="form-group">
        <label for="confirm">Подтверждение пароля</label>
        {{ form.confirm(id="confirm", class="form-input") }}
        {% for error in form.confirm.errors %}
          <p class="form-error">{{ error }}</p>
        {% endfor %}
      </div>

      {{ form.submit(class="form-submit", value="Зарегистрироваться") }}
    </form>
  </div>
</div>
{% endblock %}
